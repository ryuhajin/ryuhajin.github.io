---
layout: default
title: "1. material for VFX"
parent: "Niagara"
nav_order: 1
---

# 1. material for VFX
나이아가라와 사용되는 머티리얼 설정

### Blend mode for VFX
1. translucent
    - 어두운 컬러감 사용 가능
2. additive
    - 검은색이 투명하게 렌더링
    - 밝음만 표현할 때 사용

### shading mode for VFX
1. default lit
    - PBR에서 사용되는 기본
    - 그림자와 빛 사용
2. unlit
    - vfx 머티리얼에는 unlit 사용
    - 그림자나 빛이 드리우지 않음

> 머티리얼 출력 노드의 two sided 활성화해야 앞뒷면 다 출력

### particle color


---

## niagara 만들 때 생각해보기
1. 어떤 렌더러를 사용할것인가
2. 어떤 엘리먼트를 사용할 것인가
3. 어떤 힘과 머티리얼을 사용할 것인가

---

## Heat Distorition
- translucent
- refraction
- normal map

머티리얼 refraction 모드 공부

---

## texture baking
언리얼에서 텍스쳐 굽기

### render target
- 머티리얼의 Emissive Color, Opacity만 그리기 가능
- 코드에 의해 트리거 된다
- 에디터와 런타임에 사용 가능하다

### redner target 만들기
1. 콘텐트 브라우저 우클릭 -> 텍스쳐 -> 렌더 타겟
2. `RT_` 접두사 설정
3. datails의 texture rander target 2D의 size x,y로 해상도 설정
4. rader target format으로 텍스쳐 포맷 설정

### 블루프린트로 render target 설정하기
1. 블루프린트에 함수 생성
2. **Draw material to render target** 노드
3. 해당 노드 드롭다운 메뉴에 렌더 타겟과 머티리얼 설정
    - 렌터 타겟, 머티리얼 각각 변수를 할당해 레퍼런스 불러오기
    - `is vaild` 함수로 둘 다 참일 때만 실행되게 만들기
4. 함수 실행하여 렌더 타겟에 머티리얼 굽기
    - 렌더 타겟 우클릭 -> create static texture 클릭
    - 텍스쳐 생성
5. **render target create static texture editor olny** 노드
    - 블루프린트 실행하면 바로 스태틱 텍스쳐 생성되게 만들기 

---

## noise 텍스쳐 언리얼에서 생성하기
머티리얼의 noise (input V3) 노드를 사용해 렌더 타깃으로 texture map 만들기

1. noise 노드에 texcoord 연결 (v2니까 0 append해서 v3으로)
2. noise details에서 만들고 싶은 노이즈 fuction 선택
3. levels 로 노이즈 좀 더 티테일하게 뽑을 건지 설정
4. tiling 체크하면 repeat size 조정 가능
5. noise 결과 power로 조정
6. 대비 cheapContrast로 조정

