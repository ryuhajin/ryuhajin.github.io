---
layout: default
title: "3. Brick, Tile Generator"
parent: "Technical Shading"
nav_order: 3
---

# 3. Brick, Tile Generator
HLSL을 사용해 블럭 생성하기

---

# HLSL
---

## input
1. UV (texCoord)
2. tile : uv 몇번 반복할것인지 (float2)
    - `frac(float2(uv.x * tile.x, uv.y * tile.y))`
3. dim : 특정 좌표 범위 안인지 확인 (벽돌 패턴 생성)
    - `if (tex.x >= dim.x  || tex.y >= dim.y )`
4. brickColor : 벽돌 색상 (V3)
5. mortar : 벽돌 줄눈 색상 (V3)
6. offset : 벽돌 줄눈을 3면에 맞추기 위한 offset
    - x, y dim이 같은 비율일 때, `dim / 2`를 하면 딱 맞음
    - x, y dim 비율이 다르면 offset (V2)으로 미세하게 맞춰줘야함

### 최종 HLSL 코드

```c++
float2 tex = frac(float2(uv.x * tile.x + offset.x, uv.y * tile.y + offset.y));

if (tex.x >= dim.x ||  tex.y >= dim.y)
    return (mortarColor);

return (brickColor);
```

---

## 강의와 다른 점

강의에서는 if문을 아래와 같이 썼지만 `-` 범위가 없어서 의아했음

```c++
if (centered_tex.x >= dim.x || centered_tex.x <= -dim.x || 
    centered_tex.y >= dim.y || centered_tex.y <= -dim.y)
```

해당 if 문은 범위를 옮겼을 때 유효한 if문으로 보여짐

```c++
float2 centered_tex = tex - 0.5;  // 범위: -0.5 ~ 0.5
```
