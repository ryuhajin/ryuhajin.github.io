---
layout: default
title: "20. Power"
parent: "EP [11, 20]"
nav_order: 10
---

# EP 20 : Power
우리말로는 거듭제곱이라고 하며, 명암 대비(contrast) 조절부터 시작해 다양한 시각 효과의 감쇠에 사용됨

---

$$
y = x^k
$$

---

- **x**: Base (기본 값)
- **k**: Exponent (거듭제곱할 횟수, 지수)

---

- 지수가 음수일 경우

![](../../../../../images/powerMinus.png){: width="60%" height="60%"}

---

- 지수가 양수일 경우

![](../../../../../images/powerPlus.png){: width="60%" height="60%"}

---

# 그래프 예제

## Contrast (대비 조절)
이미지나 색상에 Power 연산을 적용하여 대비를 조절

1. **지수 < 1**
    - 이미지의 어두운 부분이 밝게 올라와 전반적으로 이미지가 밝아지고 대비가 감소
2. **지수 > 1**
    - 이미지의 어두운 부분은 더 어두워지고 밝은 부분은 유지되어 대비가 증가

---

## Gamma Correction (감마 보정 근사)
Power 함수는 이 두 공간을 변환하는 간편한 근사치로 사용될 수 있다

1. **선형 -> 감마(sRGB) 변환**
    - 지수 : 2.2 사용
    - `color_srgb = pow(color_linear, 2.2)`
2. **감마(sRGB) -> 선형 변환**
    - 지수 : 0.45 사용
    - `color_linear = pow(color_srgb, 0.45)`

> 정확한 공식은 아니지만, 실시간 렌더링에서 성능 저하 없이 매우 준수한 결과를 냄

---

# 성능 최적화
Power 함수는 **내부적으로 로그와 지수 연산을 사용하기 때문에 단순한 곱셈보다 연산 비용이 높다**

- 만약 지수가 3, 4와 같은 작은 정수로 고정되어 있다면, Power 함수 대신 곱셈 노드를 여러 번 사용하는 것이 훨씬 효율적

```
pow(x, 2) 대신 x * x

pow(x, 3) 대신 x * x * x
```

- 최신 쉐이더 컴파일러는 pow(x, 2) 같은 코드를 x * x로 자동 최적화해주기도 하지만, 수동으로 곱셈을 사용하는 것이 더 확실하고 저렴한 방법

> Power 함수는 지수 값이 변수이거나, 2.2처럼 소수점인 경우에 사용하는 것이 가장 적합