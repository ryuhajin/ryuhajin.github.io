---
layout: default
title: "35. Random Niose"
parent: "EP [31, 40]"
nav_order: 5
---

# EP 35 : Random Niose
인테리어 매핑 쉐이더는 UV 타일링을 이용해 여러 개의 방을 만들 수 있지만, 모든 방의 내부가 완전히 동일하게 보임

- 각 방마다 고유한 난수(Random Number)를 만들어 다른 방 처럼 보이게 만들기

---

## Noise Hash
UV 좌표를 입력받아 무작위값을 출력하는 해시 함수 생성

- 입력: Vector2 (UV 좌표)
- 출력: Vector3 (무작위 RGB 값)
- 과정: UV 좌표를 다양한 방식으로 스크램블 → 수학적 연산으로 무작위화

## MF_Hash23
1. Input: Vector2 (UV 좌표) → UV coord 좌표 받기
2. Component Mask로 U, V 분리
3. U,V를 3개의 AppendMany 노드에 연결해 다양한 조합 생성
   - Vector1: (x, y, x)
   - Vector2: (y, x, x) 
   - Vector3: (x, y, y)
4. 각 벡터와 무작위 스칼라값 cdot 연산
   - (127.1, 311.7, 74.7)
   - (269.5, 183.3, 246.1)
   - (113.5, 271.9, 124.6)
5. 결과 값 append many RGB로 통합
6. 5번을 Sine 함수에 입력 * `43758.5453123`
7. Frac 노드로 소수부만 추출

**링크**
스칼라값 출처
- [Hash without Sine](https://www.shadertoy.com/view/4djSRW)

---

# 그래프 예제

## 인테리어 매핑에 랜덤 난수 적용하기
1. UV coord * scalar (room count) 로 여러개의 방 그리그 생성
2. Floor 노드로 각 방의 정수만 가져옴
3. Hash23에 입력 → 각 방별 고유 무작위값 생성
4. Round 노드로 0, 1로 이진화
5. Lerp 노드로 벽면 미러링 랜덤화. 알파값은 무작위값을 사용
    - Lerp((-1,1,1), (1,-1,1), round(R))
    - Lerp((1,1,1), (1,-1,1), round(G))
6. 5번 * 인테리어 맵핑 결과를 swizzle 노드로 YXZ 순서로 출력
7. Lerp 노드로 전면 미러링 랜덤화.
    - Lerp(인테리어 맵핑, swizzle(YXZ), round(B))
8. 최종값으로 큐브맵 샘플링

---

# EP 36, 37 나중에 사진찍어서 텍스쳐 만들어서 하기
