---
layout: default
title: "8. Texture Coordinates"
parent: "EP [1, 10]"
nav_order: 5
---

# EP 8 : Texture Coordinates
## UV 좌표란?
정의: 3D 공간의 표면에 2D 이미지를 매핑하기 위한 좌표계

- U, V = X, Y 같은 2차원 좌표.
- 예시: 오렌지 껍질을 벗겨서 평면에 펼친 뒤 다시 감싸는 과정 = UV 언랩핑

👉 각 정점(Vertex) 은 3D 위치(x,y,z) 뿐만 아니라 2D 위치(u,v)도 가짐
- 이 (u,v)를 이용해 텍스처 이미지를 어떻게 매핑할지 결정

---

## 덧셈(+) : 텍스처 이동 (Panning/Scrolling)
텍스처 좌표에 특정 값을 더하는 것은 텍스처를 표면 위에서 **이동(Scrolling)**시키는 효과

- U 만큼 가로로, V 만큼 세로로 평행 이동
- 뺄셈은 덧셈과 본질적으로 동일하며 이동 방향만 반대

---

## 곱셈(*) : 텍스처 반복 및 확대 (Tiling/Scaling)
곱셈은 텍스처의 크기를 조절. 이를 **타일링(Tiling)**이라고 부름

- 2를 곱하면 원래 [0~1] 사이에서 변하던 UV 좌표가 [0~2] 사이에서 변하게 됨
- 텍스처 샘플러는 기본적으로 **주소값이 1을 넘어가면 다시 0부터 시작하는 `Wrapping` 모드로 설정**
  - 따라서 [0~1] 범위에서 텍스처가 한번 그려지고, [1~2] 범위에서 똑같은 텍스처가 다시 한번 그려짐


### 스칼라 값에 따른 변화
1. **1보다 큰 수 곱하기**
- 텍스처가 더 **여러 번 반복(Tile)**
- 숫자가 클수록 더 잘게 반복되어 **텍스처가 작아 보임**
- (예: uv * 4.0f는 텍스처를 가로, 세로로 4번씩, 총 16번 반복)

2. **1보다 작은 수 곱하기**
- 텍스처의 일부분만 사용하게 되어 **이미지가 확대(Zoom-in)되어 보임**
- (예: uv * 0.5f는 텍스처의 왼쪽 위 1/4 영역만 전체 표면에 걸쳐 확대하여 보여줌)

> UV 좌표에 1보다 작은 수를 곱하는 것은 3D 모델이 참조하는 텍스처의 영역을 좁히는 행위
> - 그리고 그 좁은 영역을 원래 모델의 전체 표면에 늘려서 채우기 때문에, 결과적으로 텍스처가 확대되어 보임

---

## 회전
UV 공간에서의 회전 = 좌표 변환
- (U,V)에 **2D 회전 변환 행렬을 적용하면, 텍스처를 읽어오는 좌표가 회전**

> UV가 바뀌면 텍스처 샘플링 위치가 바뀌므로, 3D 표면에 입혀진 이미지가 회전한 것처럼 보임 
> - 실제 모델의 지오메트리는 그대로이고, 오직 텍스처의 “참조 좌표”만 변한 것  

---

## 애니메이션 효과
- Scrolling Texture

```
UV + (Time × 속도) → 텍스처가 흐르는 듯한 효과 (예: 물, 구름)
```

- Pulsing Scale 

```
UV × sin(Time) → (예: 숨쉬는 듯한 확대/축소)
```

sin은 `-1~1` 범위를 가지므로 UV가 주기적으로 커졌다 작아졌다 → 텍스처 확대/축소 애니메이션

---

## Texture Coordinates (UV) Unreal vs Unity
좌표계 기준

- **Unreal**
  - DirectX 기반 (왼손 좌표계)
  - **텍스처의 왼쪽 위를 원점 (0, 0)**으로 사용
- **Unity**
  - 주로 OpenGL 기반 (오른손 좌표계)
  - **텍스처의 왼쪽 아래를 원점 (0, 0)**으로 사용

> 좌표계 차이가 있어 V축 방향 차이에 영향

연산	| 언리얼 엔진 (UE)	|유니티 (Unity)|
+ U	|텍스처가 왼쪽으로 이동	|텍스처가 왼쪽으로 이동|
- U	|텍스처가 오른쪽으로 이동	|텍스처가 오른쪽으로 이동|
+ V	|텍스처가 위쪽으로 이동	|텍스처가 아래쪽으로 이동|
- V	|텍스처가 아래쪽으로 이동	|텍스처가 위쪽으로 이동|

⚠️ 다른 엔진용으로 작성된 셰이더를 포팅할 때 매우 중요하게 고려해야 할 사항
