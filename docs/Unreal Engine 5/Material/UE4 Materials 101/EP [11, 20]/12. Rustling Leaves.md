---
layout: default
title: "12. Rustling Leaves"
parent: "EP [11 , 20]"
nav_order: 3
---

# Ep 12 : Rustling Leaves
바람이 불면 나무 전체는 흔들리며 잎은 제각각 움직임

- 이 복잡한 효과를 우리는 30fps 이상으로 구현해야 하므로
- **설득력 있게 보이도록 단순화하는 방법이 필요**

따라서 하나의 폴리곤에 여러 잎이 맵핑된 경우에도 잎들이 개별적으로 흔들리는 것처럼 구현

---

## 구현 과정
### 1. 기본 세팅
잎 텍스처를 하나의 사각형 폴리곤에 적용
- **UV 좌표를 시간(Time) 값**과 더하면 텍스처가 움직이는 효과가 생김

### 2. Sine 파형 사용
단순 시간 값은 UV가 계속 한 방향으로만 스크롤됨
- sin(Time)을 사용하면 **-1~1 사이로 왕복 → 흔들림 효과 구현**

### 3.이동량 조절
Multiply로 시간과 Sine 값을 작게 스케일링 → 자연스러운 흔들림 크기 조정

### 4.잎 개별화 (Mask 사용)
Photoshop에서 잎 그룹별로 R, G, B 마스크 채널을 그림

- **각 그룹은 서로 다른 시간 위상/속도/세기로 흔들리게 설정**
- 이렇게 하면 실제로는 3개의 그룹만 있지만, 각각이 다르게 움직이는 잎처럼 보임

### 5. 법선 변형 추가
단순히 UV만 흔들면 평평한 잎이 그냥 좌우로 움직이는 느낌

- Vertex Normal에 흔들림 값을 더해 표면의 Normal도 변하게 함
- 결과: 잎이 “뒤틀리고 비틀리는 듯” 입체감 있는 흔들림 표현

**링크**
- [Algorithmic drawing](https://thebookofshaders.com/05/)

---

