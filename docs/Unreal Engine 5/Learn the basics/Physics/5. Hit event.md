---
layout: default
title: "5. Hit event"
parent: "Physics in UE"
nav_order: 5
---

# 5. Hit event
두 액터가 충돌 (collide) 하면 중첩(overlap) 이벤트나 적중 (hit) 이벤트를 생성할 수 있음

---

# Hit 노드

## Event Hit
물리적으로 **Block 충돌**이 발생했을 때 자동 호출되는 이벤트

- **컴포넌트 또는 액터 단위**로 받을 수 있음  
- Overlap 이벤트(Event BeginOverlap)와는 다른 개념

## Event Hit 핀

### My Comp
- **충돌이 발생한 '내 액터'의 컴포넌트 참조를 반환**
- 액터에 **여러 컴포넌트가 있다면 정확히 어느 부위가 부딪혔는지 알려줌**

### Other
- 충돌한 **상대 Actor의 참조**를 반환

### Other Comp
- 충돌한 **상대의 Actor Component 참조** 반환

### Self Moved 
- 내가 움직여서 상대방과 부딪혔다면 `true` 반환
- 상대방이 움직여서 나에게 부딪히면 `false` 반환

### hit location
- 충돌하는 물체 간 **초기 접촉 지점** 반환

### hit Normal
- **히트 위치에서 표면 법선 벡터** 반환

### Normal Impulse
- 충돌 법선을 따라 **충돌 지점에 가해진 힘(Force)**
- **충돌 법선은 '충격 법선(Impact Normal)'과 반대 방향**을 가리키므로, 이는 **물체 내부로 가해지는 힘의 양**
- 충격량의 크기에 따라 데미지를 다르게 주거나, 소리를 크게 재생하거나, 파티클 효과의 크기를 조절하기 위함

### Hit
- **FHitResult 구조체** (충돌 지점, 노멀, 페네트레이션 정보 등 포함)
- 우클릭하여 구조체 핀 분할을 사용하거나 `Break Hit Result` 노드를 연결하여 데이터를 풀 수 있음
- 이는 트레이스(Trace)에서 얻는 데이터와 동일하며, **일부 데이터는 트레이스에만 적용**

---

## Break Hit Result
해당 노드 핀들 설명

### Blocking Hit
- 블록(막힘) 충돌이 있었으면 `True`
- Event Hit 노드에서 나왔다면, 히트 이벤트는 블록일 때만 발생하므로 항상 `True`

> 트레이스에서는 충돌 여부를 판단하는 중요한 값

### Initial Overlap
- 상대 액터가 스폰되자마자 이미 겹쳐 있었다면 `True`

### Time (트레이스 전용)
- 이름이 헷갈릴 수 있음
- 이는 시간(초)이 아니라 **트레이스 길이의 비율(0~1)**을 의미
- 0은 시작점, 1은 끝점

```
예를 들어, 충돌이 시작점에서 전체 길이의 75% 지점에서 발생했다면 0.75를 반환

10미터짜리 트레이스가 2미터 지점에서 충돌했다면 0.2를 반환
```

### Distance (트레이스 전용)
- 트레이스 시작점에서 히트 위치까지의 **거리를 미터 단위로 반환**

### Physical Material
- 충돌 지점의 메시에 적용된 **피지컬 머티리얼(Physical Material) 참조를 반환**

---

### Location vs Hit Location vs Impact Point
1. **Location**
    - 충돌 발생 시 **'상대방 액터'의 위치**
2. **Hit Location**
    - 접촉 지점. 구체적으로는 상세한 물리 반발 계산이 수행되기 전의 **초기 접촉 지점**
    - 정밀도보다는 빠른 데이터 처리가 필요할 때 사용
3. **Impact Point**
    - **충돌 처리가 완전히 끝난 후의 접촉 지점**
    - 물리 시뮬레이션 계산에 실제 사용되는 지점이며, 더 정밀하므로 대부분의 경우 이 값을 사용

---

### Normal vs Hit Normal vs Impact Normal
1. **Hit Normal**
    - Event Hit 노드의 Hit Location에서의 법선
2. **Impact Normal**
    - Hit 구조체의 Impact Point에서의 법선

```
대부분의 경우 Normal과 Impact Normal은 같지만, 스피어 트레이스(Sphere Trace)의 결과일 때는 다름

이때 Normal은 구체의 중심을 향하는 벡터가 됨
```

---

### Bone Name
- 스켈레탈 메시와 충돌했을 때, 어떤 뼈(Bone)가 맞았는지 알려줌
- 일반 충돌은 Hit Bone Name, 트레이스는 Bone Name을 사용

### Face Index
- 복잡한 콜리전(Complex Collision)을 사용하는 액터와 충돌했을 때, 충돌한 삼각형(Triangle)의 인덱스를 반환

### Trace Start / Trace End
- 트레이스의 시작점과 끝점 좌표