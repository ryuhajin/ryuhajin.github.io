---
layout: default
title: "1. Open World"
parent: "Realistic Landscapes"
nav_order: 2
---

# 1. Open World
## 전통적 월드 시스템 (맵 경계 로딩 방식)
## 과정
1. 월드 분할: 개발자가 수동으로 월드를 여러 개의 작은 맵(레벨)으로 분할
2. 경계 설정: 각 맵의 로딩 트리거 영역(보이지 않는 경계 박스)을 설정
3. 스트리밍 방
   - 플레이어가 특정 영역에 접근하면 해당 맵 로드
   - 이전 맵은 메모리에서 언로드 또는 유지(설정에 따라)
4. 로딩 화면: 맵 전환 시 로딩 화면이 표시되는 경우가 많음
5. 수동 최적화: 개발자가 LOD(Level of Detail)와 오클루전 컬링을 수동으로 설정

## 특징
- 간단한 게임에 적합
- 메모리 관리가 비교적 직관적
- 대규모 오픈 월드에는 부적합(로딩 화면 빈번)

## 언리얼 5 World Partition 시스템
## 과정
1. 자동 공간 분할: 월드를 정사각형 셀(grid)로 자동 분할(기본 1km²)
2. 데이터 레이어: 동일한 공간에 여러 버전의 콘텐츠를 계층화 가능(예: 낮/밤 버전)
3. 지능형 스트리밍
    - 서버 기반 거리 계산으로 필요한 셀만 로드
    - One File Per Actor 시스템으로 개별 에셋 단위 제어 가능
4. 지속적인 업데이트
    - 플레이어 위치를 실시간으로 모니터링
    - 시야 범위와 데이터 레이어 활성화 상태를 고려해 LOD 자동 조정
5. HLOD(계층적 LOD)
    - 거리에 따라 자동으로 HLOD 버전 생성 및 전환
    - 원거리 오브젝트는 자동으로 단순화된 버전으로 렌더링

## 특징
- 대규모 오픈 월드에 최적화
- 로딩 화면 없이 원활한 월드 탐색 가능
- 개발자 편의성 향상(수동 분할 불필요)

- [World Partition](https://dev.epicgames.com/documentation/en-us/unreal-engine/world-partition-in-unreal-engine?application_version=5.5)

## 정리

특징|	전통적 월드 시스템|	언리얼 5 World Partition|
|---|---|---|
월드 분할 방식	|수동 분할	|자동 그리드 분할|
로딩 방식	|전체 맵 단위 로드/언로드	|셀 단위 지능형 스트리밍|
로딩 화면	|빈번하게 발생	|거의 없음|
최적화 방식|	수동 LOD 설정|	자동 HLOD 생성|
메모리 관리	전체| 맵 단위	|개별 액터 단위 제어|
개발 편의성	|낮음 (수작업 필요)	|높음 (자동화 시스템)|
적합 규모	|소/중규모 게임	|대규모 오픈 월드|
실행 중 변경|	제한적	|동적 조정 가능 (데이터 레이어)|
에디터 작업 성능	|전체 맵 로딩 필요|	작업 영역만 로딩 (로컬 영역)|

## 패널 세팅하기
1. 상단의 창(window) ->  월드 파티션
2. 월드 파티션 -> 월드 파티션 에디터 클릭
3. 월드 파티션 패널 등장
4. 상단의 창(window) -> 월드 세팅 체크
5. 월드 세팅 패널 등장

> 월드 파티션 에디터로 world가 셀로 나누어 지는 걸 볼 수 있음

## 프로젝트 맵 세팅하기
엔진을 열 때 보여질 맵 세팅

1. 상단의 편집(Edit) -> 프로젝트 세팅
2. 프로젝트 세팅 창에서 맵 & 모드 클릭
3. default Maps 목록에서 에디터 시작 맵 -> 원하는 맵 클릭하여 세팅

# LOD (Level of Detail)
객체의 시각적 복잡성을 거리에 따라 동적으로 조절하는 시스템

> 가까운 객체는 고품질로, 먼 객체는 저품질로 렌더링

장점|설명|
성능 향상| 먼 객체의 폴리곤 수 감소 → GPU 부하 ↓|
메모리 절약	| 저해상도 텍스처/모델 사용|
렌더링 효율화|불필요한 오버드로우 감소|


##  LOD 동작 과정
### 1. 거리 계산 단계
렌더러가 카메라와 각 객체 사이의 거리를 실시간으로 측정
- 예: 0-10m(고품질), 10-30m(중간), 30m+(저품질)

### 2. 모델 전환 단계
```c++
if (distance < 10m) Render(HighPolyModel);
else if (distance < 30m) Render(MediumPolyModel);
else Render(LowPolyModel);
```

### 3. 부드러운 전환
- LOD 교체 시점에서 팝핑 현상 방지를 위한 페이딩 효과 적용
- 언리얼의 경우 "LOD Bias" 설정으로 전환 거리 조정 가능

## LOD 생성 방법
### 1. 수동 제작
전통적 방식으로 3D 모델러가 동일 객체의 여러 버전 제작
- 예: 나무 모델을 10,000폴리곤 → 5,000 → 1,000 → 200 폴리곤 버전으로 제작

### 2. 자동 생성
현대 엔진에서 쓰이는 방식

### 언리얼의 Auto LOD Generation
1. 원본 메시 임포트
2. Mesh Settings → LOD Settings에서 "Generate Auto LODs" 체크
3. 폴리곤 감소 % 설정 (예: LOD1=50%, LOD2=25%, LOD3=10%)

- 블렌더/마야의 리토폴로지 도구 활용
