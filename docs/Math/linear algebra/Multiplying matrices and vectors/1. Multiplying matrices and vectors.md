---
layout: default
title: "1. Multiplying matrices and vectors"
parent: "Multiplying matrices and vectors"
nav_order: 1
---

# 1. Multiplying matrices and vectors
행렬-벡터 곱

---

## 벡터와 행렬의 곱
행렬에 담긴 규칙(새로운 좌표계)에 따라 벡터의 좌표를 새로 계산한다

- 행렬은 '좌표 공간 그 자체'를 담고 있는 그릇
- 행렬과 벡터를 곱하는 행위 = "벡터 A가 있던 공간의 좌표를 B 공간의 기준으로 다시 측정하는 과정"

---

##  v = (1, -4) 와 행렬 M의 곱셈
**기준 설정**
- 기존 좌표계 (우리가 출발하는 곳)
  - x축: (1, 0) (오른쪽)
  - y축: (0, 1) (위쪽)

- 벡터 `v`: (1, -4)
- 즉, (1 * x축) + (-4 * y축) 만큼 이동한 위치

----

**새로운 좌표계 (우리가 도착할 곳) = 행렬 `M`**

새로운 좌표계를 정의하고 이 정보를 행렬 M에 담음

- 새로운 x축: 기존의 y축 방향인데, 길이는 2배. 즉, (0, 2)
- 새로운 y축: 기존의 x축 방향인데, 길이는 2배. 즉, (2, 0)

이 정보를 행렬 M으로 만들면 다음과 같음. (열들이 새로운 축 방향)

```
[새로운x축.x, 새로운y축.x]  =   [0, 2]
[새로운x축.y, 새로운y축.y]  =   [2, 0]
```

- 이 행렬 M은 "기존 좌표계를 시계방향으로 90도 회전시키고
- 모든 길이를 2배로 늘려라"는 변환 규칙을 담고 있음

---

**곱셈 실행: `v`를 `M`의 규칙으로 변환하기**

목표는 v = (1, -4)를 이 새로운 좌표계에서 다시 측정하는 것

- 새로운 좌표 = (v의 x값 * 새로운 x축) + (v의 y값 * 새로운 y축)
  - (1 * (0, 2)) + (-4 * (2, 0))
  - (0, 2) + (-8, 0)
  - (0 - 8, 2 + 0)
  - (-8, 2)

---

**결과**

- 원래 벡터 `v = (1, -4)`: 오른쪽으로 한 칸, 아래로 네 칸 가는 벡터였음
- 변환 규칙 `M`: 시계방향 90도 회전 + 크기 2배
- 변환된 벡터 `v' = (-8, 2)`: 왼쪽으로 여덟 칸, 위로 두 칸 가는 벡터가 됨


> 행렬 곱셈은 벡터를 "행렬의 좌표로 옮기는 것"이 아니라, "행렬에 담긴 방향과 크기, 원점 정보를
  바탕으로 벡터의 좌표를 재구성하는 변환"이다

---


# 나중에 동차좌표계로 옮기기


$$
T =
\begin{bmatrix}
A & \mathbf{b} \\
\mathbf{0}^T & 1
\end{bmatrix},
\quad
A=
\begin{bmatrix}
a_{11} & a_{12} \\
a_{21} & a_{22}
\end{bmatrix},
\quad
\mathbf{b}=
\begin{bmatrix}
b_{1} \\ b_{2}
\end{bmatrix}
$$

### 일반식 (w를 남겨둔 형태)
$$
\begin{bmatrix}
x' \\ y' \\ w'
\end{bmatrix}
=
\begin{bmatrix}
A & \mathbf{b} \\
\mathbf{0}^T & 1
\end{bmatrix}
\begin{bmatrix}
x \\ y \\ w
\end{bmatrix}
=
\begin{bmatrix}
A\begin{bmatrix}x\\y\end{bmatrix} + \mathbf{b}\,w \\
w
\end{bmatrix}
$$

---

### 점 (point):  \; w = 1
$$
\mathbf{p}_h=
\begin{bmatrix} x \\ y \\ 1 \end{bmatrix}
\Rightarrow
T\mathbf{p}_h=
\begin{bmatrix}
A\begin{bmatrix}x\\y\end{bmatrix} + \mathbf{b} \\
1
\end{bmatrix}
=
\begin{bmatrix}
a_{11}x + a_{12}y + b_{1} \\
a_{21}x + a_{22}y + b_{2} \\
1
\end{bmatrix}
$$

### 방향 벡터 (direction): \; w = 0
$$
\mathbf{v}_h=
\begin{bmatrix} v_x \\ v_y \\ 0 \end{bmatrix}
\Rightarrow
T\mathbf{v}_h=
\begin{bmatrix}
A\begin{bmatrix}v_x\\v_y\end{bmatrix} + \mathbf{b}\cdot 0 \\
0
\end{bmatrix}
=
\begin{bmatrix}
a_{11}v_x + a_{12}v_y \\
a_{21}v_x + a_{22}v_y \\
0
\end{bmatrix}
$$

---

### 숫자 예시로 확인하기

$$
T =
\begin{bmatrix}
0 & -1 & 3 \\
1 & \;\;0 & -2 \\
0 & \;\;0 & 1
\end{bmatrix}
=
\begin{bmatrix}
A & \mathbf{b} \\
\mathbf{0}^T & 1
\end{bmatrix},
\quad
A=
\begin{bmatrix}
0 & -1 \\
1 & \;\;0
\end{bmatrix},
\quad
\mathbf{b}=
\begin{bmatrix}
3 \\ -2
\end{bmatrix}
$$

위 \(A\)는 **원점 기준 90° 회전**(시계 반대)이고, \(\mathbf{b}=(3,-2)^T\)는 **이동**입니다.

---

#### 1) 점(point) \(p=(2,5)\)

동차좌표: \(\;p_h = \begin{bmatrix} 2 \\ 5 \\ 1 \end{bmatrix}\)

$$
\begin{bmatrix}
x' \\ y' \\ 1
\end{bmatrix}
=
T
\begin{bmatrix}
2 \\ 5 \\ 1
\end{bmatrix}
=
\begin{bmatrix}
0\cdot 2 + (-1)\cdot 5 + 3\cdot 1 \\
1\cdot 2 + 0\cdot 5 + (-2)\cdot 1 \\
1
\end{bmatrix}
=
\begin{bmatrix}
-5 + 3 \\
2 - 2 \\
1
\end{bmatrix}
=
\begin{bmatrix}
-2 \\ 0 \\ 1
\end{bmatrix}
$$

즉, \(p' = (-2,\; 0)\).

---

#### 2) 방향 벡터(direction) \(v=(4,-1)\)

동차좌표: \(\;v_h = \begin{bmatrix} 4 \\ -1 \\ 0 \end{bmatrix}\)

$$
\begin{bmatrix}
v_x' \\ v_y' \\ 0
\end{bmatrix}
=
T
\begin{bmatrix}
4 \\ -1 \\ 0
\end{bmatrix}
=
\begin{bmatrix}
0\cdot 4 + (-1)\cdot(-1) + 3\cdot 0 \\
1\cdot 4 + 0\cdot(-1) + (-2)\cdot 0 \\
0
\end{bmatrix}
=
\begin{bmatrix}
1 \\
4 \\
0
\end{bmatrix}
$$

즉, \(v' = (1,\; 4)\).  
(이동 벡터 \(\mathbf{b}\)가 곱해지는 항은 \(w=0\)이라서 사라짐)

---

> **요점 재확인**  
> - \(\mathbf{b}\)는 마지막 성분 \(w\)와 곱해져서 윗부분에 더해진다.  
> - 점은 \(w=1\)이므로 \(\mathbf{b}\)가 그대로 더해져 **이동 적용**  
> - 방향 벡터는 \(w=0\)이므로 \(\mathbf{b}\)가 사라져 **이동 미적용**, 선형 부분 \(A\)만 적용

---
